CREATE TABLE TOPIC(
   t_id INTEGER GENERATED ALWAYS AS IDENTITY,
   t_name  VARCHAR(100) NOT NULL,
   rcd_date  TIMESTAMP,
   rcd_user  VARCHAR(100),
   PRIMARY KEY (t_id)
);

CREATE TABLE CONSUMER(
   c_id INTEGER GENERATED ALWAYS AS IDENTITY,
   c_name           VARCHAR(100)    NOT NULL,
   lag DECIMAL,
   rcd_date            TIMESTAMP,
   PRIMARY KEY(c_id)
);

CREATE TABLE TOPIC_CONSUMER(
	tc_id INTEGER GENERATED ALWAYS AS IDENTITY,
	t_id INTEGER REFERENCES TOPIC(t_id),
	c_id INTEGER REFERENCES CONSUMER(c_id)
);

CREATE TABLE TOPIC_METRIC(
	t_id INTEGER REFERENCES TOPIC(t_id),
	arrival_rate INTEGER,
	rcd_date TIMESTAMP,
	c_id INTEGER REFERENCES CONSUMER(c_id)
);

CREATE TABLE CONSUMER_METRIC(
	c_id INTEGER REFERENCES CONSUMER(c_id),
	offset_val INTEGER
);

